<!DOCTYPE html>
<html>
<head>
  <title>Create Exam</title>
    <style>
		body {
			font-family: Arial, sans-serif;
			background-color: #f5f5f5;
		}
		h1 {
			color: #008080;
			text-align: center;
			margin-top: 40px;
		}
		form {
			max-width: 600px;
			margin: 0 auto;
			padding: 20px;
			background-color: #ffffff;
			box-shadow: 0px 0px 10px #ccc;
			border-radius: 5px;
		}
		label {
			display: block;
			margin-top: 10px;
			font-weight: bold;
			color: #555;
		}
		input[type="text"], input[type="checkbox"] {
			display: inline-block;
			width: 80%;
			padding: 8px;
			margin-bottom: 10px;
			font-size: 16px;
			border-radius: 5px;
			border: 1px solid #ccc;
			box-shadow: 0px 0px 5px #ccc;
			background-color: #fff;
		}
		input[type="checkbox"] {
			width: 5%;
			margin-left: 10px;
		}
		button {
			display: block;
			margin-top: 20px;
			padding: 10px;
			font-size: 18px;
			font-weight: bold;
			color: #fff;
			background-color: #008080;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			box-shadow: 0px 0px 5px #ccc;
		}
		button:hover {
			background-color: #006666;
		}
	</style>
  <script>
		function createExam() {
			// get the values of the input fields
			var questions = [];
			var questionInputs = document.getElementsByClassName("question");
			for (var i = 0; i < questionInputs.length; i++) {
				var question = questionInputs[i].value;
				var answers = [];
				var answerInputs = questionInputs[i].parentNode.getElementsByClassName("answer" + i);
				var isGoodAnswerInput = questionInputs[i].parentNode.getElementsByClassName("isGoodAnswer" + i);
				for (var j = 0; j < answerInputs.length; j++) {
					var answer = answerInputs[j].value;
					var isGoodAnswer = isGoodAnswerInput[j].checked ? "Y" : "N";
					answers.push({ "content": answer, "isGoodAnswer": isGoodAnswer });
				}
				questions.push({ "questionContent": question, "answerToCreateExamList": answers });
			}

			// create the JSON object
			var exam = {
				"questions": questions,
				"studentUsernames": ["student@student.com"]
			};

			// send the JSON object to the server
			var xhr = new XMLHttpRequest();
			xhr.open("POST", "/exam/create", true);
			xhr.setRequestHeader('Content-Type', 'application/json');
			xhr.send(JSON.stringify(exam));
		}
        var answerNumber = 0;
		function addQuestion() {
			var form = document.getElementById("examForm");
			var numQuestions = form.getElementsByClassName("question").length;

			// create question input
			var questionInput = document.createElement("input");
			questionInput.type = "text";
			//questionInput.name = "question" + numQuestions;
			questionInput.className = "question";
			questionInput.placeholder = "Enter question " + (numQuestions + 1);
			form.appendChild(questionInput);
			form.appendChild(document.createElement("br"));

			// create answer inputs

			for (var i = 0; i < 3; i++) {
				var answerInput = document.createElement("input");
				answerInput.type = "text";
				// answerInput.name = "answer" + numQuestions + "_" + i;
				answerInput.className = "answer" + answerNumber;
				answerInput.placeholder = "Enter answer " + (i + 1);
				form.appendChild(answerInput);

				var isGoodAnswerInput = document.createElement("input");
				isGoodAnswerInput.type = "checkbox";
				//isGoodAnswerInput.name = "isGoodAnswer" + numQuestions + "_" + i;
				isGoodAnswerInput.className = "isGoodAnswer" + answerNumber;
				form.appendChild(isGoodAnswerInput);
				form.appendChild(document.createTextNode("Correct"));
				form.appendChild(document.createElement("br"));
			}
			answerNumber++;
		}
	</script>
</head>
<body>
<h1>Create Exam</h1>
<form id="examForm">
  <!-- Question inputs will be dynamically added here -->
</form>
<button onclick="addQuestion()">Add Question</button>
<button onclick="createExam()">Create Exam</button>
</body>
</html>